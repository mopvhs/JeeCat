<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jeesite.modules.cat.dao.MaocheAlimamaUnionProductDao">
	
	<!-- 查询数据
	<select id="findList" resultType="MaocheAlimamaUnionProductDO">
		SELECT ${sqlMap.column.toSql()}
		FROM ${sqlMap.table.toSql()}
		<where>
			${sqlMap.where.toSql()}
		</where>
		ORDER BY ${sqlMap.order.toSql()}
	</select> -->

	<select id="findAll" resultType="MaocheAlimamaUnionProductDO">
		SELECT *
		FROM maoche_alimama_union_product
		<where>
			id > #{id}
		</where>
		ORDER BY id asc limit #{limit}
	</select>

	<select id="listByIds" resultType="MaocheAlimamaUnionProductDO">
		SELECT *
		FROM maoche_alimama_union_product
		<where>
			id in
			<foreach collection="ids" item="id" close=")" open="(" separator=",">
				#{id}
			</foreach>
		</where>
	</select>

	<update id="updateAuditStatus">
		update
		maoche_alimama_union_product
		<set>
			audit_status = #{auditStatus}
			<if test="syncMark != null">
				, sync_mark = #{syncMark}
			</if>
		</set>
		<where>
			id in
			<foreach collection="ids" item="id" close=")" open="(" separator=",">
				#{id}
			</foreach>
		</where>
	</update>

	<update id="updateProductStatus">
		update
		maoche_alimama_union_product
		<set>
			status = #{status}
		</set>
		<where>
			id in
			<foreach collection="ids" item="id" close=")" open="(" separator=",">
				#{id}
			</foreach>
		</where>
	</update>

	<update id="updateSaleStatus">
		update
		maoche_alimama_union_product
		<set>
			sale_status = #{saleStatus}
			<if test="onShelfDate != null">
				, sale_status_date = #{onShelfDate}
			</if>
		</set>
		<where>
			id in
			<foreach collection="ids" item="id" close=")" open="(" separator=",">
				#{id}
			</foreach>
		</where>
	</update>

</mapper>